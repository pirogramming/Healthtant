{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로필 편집</title>
    <link rel="stylesheet" href="{% static 'accounts/profile.css' %}">
</head>
<body>
    <div class="container">
        <div class="nav-bar">
            <div class="nav-left">
                <button onclick="history.back()" style="background: none; border: none; font-size: 16px; cursor: pointer;">← 뒤로</button>
            </div>
            <div class="nav-center">
                <h2 style="margin: 0; font-size: 18px;">프로필 편집</h2>
            </div>
            <div class="nav-right">
            </div>
        </div>
        
        <div class="content">
            <div class="instruction">
                프로필 정보를 수정하세요.
            </div>

            <form method="POST" action="/accounts/profile/">
                {% csrf_token %}
                
                <div class="profile-section">
                    <div class="profile-picture">
                        {% if profile.profile_image_url %}
                            <img src="{{ profile.profile_image.url }}" alt="프로필 이미지" style="width: 94px; height: 94px; border-radius: 50%; object-fit: cover;">
                        {% else %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="94" height="95" viewBox="0 0 94 95" fill="none">
                                <g clip-path="url(#clip0_357_1027)">
                                    <path d="M47 82.75C66.468 82.75 82.25 66.968 82.25 47.5C82.25 28.032 66.468 12.25 47 12.25C27.532 12.25 11.75 28.032 11.75 47.5C11.75 66.968 27.532 82.75 47 82.75Z" fill="#180E19" stroke="#180E19" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M46.666 28.6666C54.2229 28.6668 60.3486 34.7933 60.3486 42.3502C60.3485 49.907 54.2228 56.0327 46.666 56.0328C39.1091 56.0328 32.9826 49.9071 32.9824 42.3502C32.9824 34.7932 39.109 28.6666 46.666 28.6666Z" fill="white" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M23.5 69.0416C25.6719 64.7637 28.9859 61.1707 33.0748 58.6609C37.1637 56.1511 41.8677 54.8226 46.6654 54.8226C51.4631 54.8226 56.1671 56.1511 60.256 58.6609C64.3448 61.1707 67.6589 64.7637 69.8308 69.0416" fill="white"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_357_1027">
                                        <rect width="94" height="94" fill="white" transform="translate(0 0.5)"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        {% endif %}
                    </div>
                </div>

                <div class="form-section">
                    <div class="input-group">
                        <label for="nickname">닉네임</label>
                        <input type="text" 
                               id="nickname" 
                               name="nickname" 
                               value="{{ profile.nickname }}" 
                               placeholder="닉네임을 입력하세요" 
                               required>
                    </div>

                    <div class="input-group">
                        <label for="user_age">나이</label>
                        <input type="number" 
                               id="user_age" 
                               name="user_age" 
                               value="{{ profile.user_age }}" 
                               placeholder="나이를 입력하세요" 
                               min="1" 
                               max="120" 
                               required>
                    </div>

                    <div class="input-group">
                        <label for="user_gender">성별</label>
                        <select id="user_gender" name="user_gender" required>
                            <option value="">성별을 선택하세요</option>
                            <option value="M" {% if profile.user_gender == 'M' %}selected{% endif %}>남성</option>
                            <option value="F" {% if profile.user_gender == 'F' %}selected{% endif %}>여성</option>
                        </select>
                    </div>
                </div>

                <div class="button-section">
                    <button type="submit" class="submit-button">완료</button>
                    <button type="button" class="cancel-button" onclick="history.back()">취소</button>
                </div>
            </form>
        </div>
    </div>

    <style>
        .nav-center {
            flex: 1;
            text-align: center;
        }
        
        .form-section {
            margin: 30px 0;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }
        
        .input-group input,
        .input-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }
        
        .input-group input:focus,
        .input-group select:focus {
            border-color: rgba(86, 170, 178, 1);
            outline: none;
        }
        
        .button-section {
            margin-top: 40px;
            display: flex;
            gap: 12px;
        }
        
        .submit-button {
            flex: 1;
            background-color: rgba(86, 170, 178, 1);
            color: white;
            border: none;
            padding: 14px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
        }
        
        .submit-button:hover {
            background-color: rgba(76, 150, 158, 1);
        }
        
        .cancel-button {
            flex: 1;
            background-color: #f5f5f5;
            color: #666;
            border: none;
            padding: 14px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .cancel-button:hover {
            background-color: #e5e5e5;
        }
    </style>
</body>
</html>