{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'mypage/mypage_profile.css' %}">
{% endblock %}

{% block content %}
<div class="profile-container">
    <!-- 프로필 이미지 섹션 -->
    <div class="profile-picture-section">
        <div class="profile-picture">
            {% if user_data.profile_image_url %}
                <img src="{{ user_data.profile_image_url }}" alt="프로필 이미지">
            {% else %}
                <div class="profile-placeholder">
                    <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                        <path d="M30 30C35.5228 30 40 25.5228 40 20C40 14.4772 35.5228 10 30 10C24.4772 10 20 14.4772 20 20C20 25.5228 24.4772 30 30 30Z" fill="white"/>
                        <path d="M30 35C22.268 35 16 41.268 16 49V50C16 51.1046 16.8954 52 18 52H42C43.1046 52 44 51.1046 44 50V49C44 41.268 37.732 35 30 35Z" fill="white"/>
                    </svg>
                </div>
            {% endif %}
        </div>
        <p class="change-picture-text">Change picture</p>
    </div>

    <!-- 사용자 정보 섹션 -->
    <div class="user-info-section">
        <div class="info-row">
            <span class="info-label">닉네임</span>
            <span class="info-value">{{ user_data.nickname }}</span>
        </div>
        <div class="info-row">
            <span class="info-label">이름</span>
            <span class="info-value">{{ user_data.user_name }}</span>
        </div>
        <div class="info-row">
            <span class="info-label">나이</span>
            <span class="info-value">{{ user_data.user_age }}</span>
        </div>
        <div class="info-row">
            <span class="info-label">성별</span>
            <span class="info-value">
                {% if user_data.user_gender == 'M' %}남자{% else %}여자{% endif %}
            </span>
        </div>
    </div>

    <!-- 즐겨찾는 제품 섹션 -->
    <div class="section">
        <h3 class="section-title">즐겨찾는 제품</h3>
    </div>

    <!-- 계정 연동 섹션 -->
    <div class="section">
        <h3 class="section-title">Link Accounts</h3>
        <div class="link-row">
            <div class="link-content">
                <div class="link-icon kakao-icon">TALK</div>
                <span class="link-text">카카오톡 계정 연동하기</span>
            </div>
            <div class="arrow-icon">></div>
        </div>
        <div class="link-row">
            <div class="link-content">
                <div class="link-icon google-icon">G</div>
                <span class="link-text">구글 계정 연동하기</span>
            </div>
            <div class="arrow-icon">></div>
        </div>
    </div>

    <!-- 로그아웃/탈퇴 섹션 -->
    <div class="section">
        <h3 class="section-title">로그아웃</h3>
        <p class="withdrawal-text">탈퇴하기</p>
    </div>

    <!-- 기존 폼 (숨김 처리) -->
    <form method="post" style="display: none;">
        {% csrf_token %}
        <div>
            <label>닉네임</label>
            <input type="text" name="nickname" value="{{ user_data.nickname }}">
        </div>
        <div>
            <label>나이</label>
            <input type="number" name="user_age" value="{{ user_data.user_age }}">
        </div>
        <div>
            <label>성별</label>
            <select name="user_gender">
                <option value="M" {% if user_data.user_gender == 'M' %}selected{% endif %}>남성</option>
                <option value="F" {% if user_data.user_gender == 'F' %}selected{% endif %}>여성</option>
            </select>
        </div>
        <div>
            <label>프로필 이미지 URL</label>
            <input type="url" name="profile_image_url" value="{{ user_data.profile_image_url }}">
        </div>
        <button type="submit">저장</button>
    </form>
</div>
{% endblock %}